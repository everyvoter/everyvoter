==========
Operations
==========

EveryVoter is designed to run on Heroku using Postgres as the database, RabbitMQ as the message queue, and Memcached as the cache. Static assets are hosted on Amazon S3, emails are sent via the AWS Simple Email Service, and feedback (Open, Click, Bounce, Complaint) is sent to EveryVoter via Amazon’s SQS. Geocoding is done via `Geocod.io`_. For auto-scaling, we recommend users use `HireFire`_.

.. _Geocod.io: https://geocod.io/
.. _HireFire: https://www.hirefire.io/

---------------
Operating Costs
---------------

################
Hosting (Heroku)
################

Heroku pricing is dynamic and based on usage. However, a production instance of EveryVoter is likely to cost (at a minimum) $300-700/month in hosting ($50-400 for a database, $100 for a dedicated queue, $40 for a cache, and a minimum of $100/month for Heroku dynos.) We recommend you also have a staging system for testing purposes.

EveryVoter is highly dependent on database read/write capacity as well as available CPU, so finding a balance between your desired send speed and desired monthly cost is important.

##############################
Heroku Auto-Scaling (Hirefire)
##############################

One of the easiest ways to increase performance while keeping costs low is to use HireFire to auto-scale Heroku worker dynos. Currently, Hirefire costs $10 per Heroku application.

############################
Address Geocoding (Gecod.io)
############################

The cost for EveryVoter geocoding is $2.00 per 1000 lookups (1 lookup and 3 data appends), with the first 625 lookups per day for free. Unlimited lookups can be performed at the cost of $750/month. EveryVoter caches Geocod.io responses, so an organization using zip code lookups exclusively would only be charged once per US zip code per copy of EveryVoter.

###########################
Outbound Email (Amazon SES)
###########################

The cost for outbound email is usage-based, with the standard Amazon SES tier costing $0.10 per 1000 emails sent.
Email Feedback (Open, Click, Bounce, Complaint via Amazon SNS)
The cost for feedback processing is $0.60 per 1 million, with the first 100,000 per month free.

########################
File Storage (Amazon S3)
########################

Outbound emails by default do not have images generated by EveryVoter and stored on a file storage service. Static files such as logos and CSS used for the constituent management pages are under 100MB with minimal HTTP requests to Amazon S3. This cost will nearly always fall in the Amazon S3 “Free Tier” or only cost a few cents.
